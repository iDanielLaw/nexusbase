# Test Configuration for Follower Node (No TLS)

server:
  grpc_port: 50055
  tcp_port: 50056
  health_check_interval: 5s
  tls:
    enabled: false

engine:
  mode: engine2
  data_dir: "./data-follower"
  retention_period: ""
  metadata_sync_interval: 60s
  checkpoint_interval: 300s
  memtable:
    size_threshold_bytes: 4194304  # 4 MiB
    flush_interval: 1s
  sstable:
    block_size_bytes: 8192  # 8 KiB
    compression: snappy
    bloom_filter_fp_rate: 0.01
  cache:
    block_cache_capacity: 1024
  compaction:
    l0_trigger_file_count: 4
    check_interval: 30s
    fallback_strategy: PickOldest
  wal:
    sync_mode: interval
    flush_interval: 1000ms
  index:
    memtable_threshold: 10000
    flush_interval: 60s
  max_chunk_bytes: 16384

logging:
  level: info
  output: stdout
  file: nexusbase-follower.log

security:
  enabled: false

self_monitoring:
  enabled: true
  interval: 15s
  metric_prefix: "__"
  leader_address: "localhost:50051"  # Send metrics to leader

query_server:
  enabled: true
  listen_address: ":8089"

tracing:
  enabled: false

debug:
  enabled: true
  listen_address: "localhost:6061"
  pprof_enabled: true
  metrics_enabled: true

replication:
  mode: follower
  listen_address: "localhost:50054"
  leader_address: "localhost:50053"
  tls:
    enabled: false
  graceful_stop_timeout_seconds: 10
