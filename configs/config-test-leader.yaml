# Test Configuration for Leader Node (No TLS)

server:
  grpc_port: 50051
  tcp_port: 50052
  health_check_interval: 5s
  tls:
    enabled: false

engine:
  data_dir: "./data-leader"
  retention_period: ""
  metadata_sync_interval: 60s
  checkpoint_interval: 300s
  memtable:
    size_threshold_bytes: 4194304  # 4 MiB
    flush_interval: 1s
  sstable:
    block_size_bytes: 8192  # 8 KiB
    compression: snappy
    bloom_filter_fp_rate: 0.01
  cache:
    block_cache_capacity: 1024
  compaction:
    l0_trigger_file_count: 4
    check_interval: 30s
    fallback_strategy: PickOldest
  wal:
    sync_mode: interval
    flush_interval: 1000ms
  index:
    memtable_threshold: 10000
    flush_interval: 60s

logging:
  level: info
  output: stdout
  file: nexusbase-leader.log

security:
  enabled: false

self_monitoring:
  enabled: true
  interval: 15s
  metric_prefix: "__"

query_server:
  enabled: true
  listen_address: ":8088"

tracing:
  enabled: false

debug:
  enabled: true
  listen_address: "localhost:6060"
  pprof_enabled: true
  metrics_enabled: true

replication:
  mode: leader
  listen_address: "localhost:50053"
  tls:
    enabled: false
  graceful_stop_timeout_seconds: 10
